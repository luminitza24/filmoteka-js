var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequirefb50;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequirefb50=r),r("lQVoc");var o=r("c6Rwr"),a=r("3huUq"),l=r("c8DrE"),i=r("gjiCh"),o=r("c6Rwr"),a=r("3huUq"),l=r("c8DrE"),c=r("bTcpz");document.querySelector(".number-buttons");const s=document.getElementById("numberButtonsContainer");let d=1;function u(e){let t=document.createElement("button");return t.innerText=e,t.classList.add("pagination__button"),t.setAttribute("data-page",e),t}((e,t)=>{if(t.innerHTML="",d<5){for(let e=2;e<=6;e++){let n=u(e-1);d===e-1&&n.classList.add("active"),t.appendChild(n)}h(),m(),d!==e&&t.appendChild(u(e))}else if(d>=3&&d<e){t.appendChild(u(1)),h(),m();for(let e=d;e<=d+1;e++){let n=u(e);t.appendChild(n)}h(),m(),d!==e&&t.appendChild(u(e))}})(1,s);let p=1;function f(){let e=p,t=e+5-1,n=document.querySelectorAll(".number-buttons .pagination__button");n.forEach(e=>{s.removeChild(e)});for(let n=e;n<=t;n++){let e=u(n);s.appendChild(e),e.addEventListener("click",()=>{let t=e.getAttribute("data-page");b(t)})}}function h(){let e=document.createElement("button");e.innerText="►",e.classList.add("next-btn"),e.disabled=!1,e.addEventListener("click",()=>{p+=5,f()});let t=document.getElementById("numberButtonsContainer");t.parentNode.insertBefore(e,t.nextSibling)}function m(){let e=document.createElement("button");e.innerText="◄",e.classList.add("prev-btn"),e.disabled=!1,e.addEventListener("click",()=>{(p-=5)<1&&(p=1),f()});let t=document.getElementById("numberButtonsContainer");t.parentNode.insertBefore(e,t)}f();const b=async(e,t=!1,n="")=>{try{let r;let i=await (0,o.fetchGenreList)();r=t?await (0,l.fetchMovies)(n,e):await (0,l.fetchPopularMovies)(e),(0,a.handleResponse)(r,t,i)}catch(e){console.error("Error",e)}};(0,l.fetchPopularMovies)(d).then(e=>{(0,a.markupGalleryItem)(e.results),g(d=localStorage.getItem("currentPage"),e.total_pages),(0,c.openModal)(e)}).catch(e=>console.log(e)).finally(()=>{});const g=document.querySelectorAll(".pagination__button");g.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.page,n="true"===e.dataset.search;b(t,n,"")})});var c=r("bTcpz"),l=r("c8DrE"),a=r("3huUq"),o=r("c6Rwr"),c=r("bTcpz");const y=document.querySelector("#form__search"),E=document.querySelector("#searchError");let v=1,w="",L=[];y.addEventListener("submit",async e=>{e.preventDefault();let t=y.querySelector('[name="searchQuery"]').value;if(""===t){E.textContent="Please write something";return}E.textContent="",w!==t&&(w=t,v=1,C());try{let e=await (0,l.fetchMovies)(w,v);L=await (0,o.fetchGenreList)(),(0,a.handleResponse)(e,!1,L),(0,c.initializeModal)(),1!==v||e.results.length||(E.textContent="Search result not successful. Enter the correct movie name."),y.reset()}catch(e){console.error(e),E.textContent="Error occurred. Please try again later."}});const C=()=>{let e=document.querySelector(".gallery");e&&(e.innerHTML="")},x=()=>{(0,a.getGalleryElement)()},q=async()=>{try{b(1);let e=await (0,o.fetchGenreList)(),t=await (0,l.fetchPopularMovies)(1);(0,a.handleResponse)(t,!0,e),(0,c.initializeModal)(),(0,i.showLoader)(),(0,i.hideLoader)()}catch(e){console.error("Error",e)}x()};q();
//# sourceMappingURL=index.f03bfbaf.js.map
