var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequirefb50;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequirefb50=r),r("lQVoc");var o=r("c6Rwr"),a=r("3huUq"),l=r("c8DrE"),i=r("gjiCh"),o=r("c6Rwr"),a=r("3huUq"),l=r("c8DrE");document.querySelector(".number-buttons");const c=document.getElementById("numberButtonsContainer");function s(e){let t=document.createElement("button");return t.innerText=e,t.classList.add("pagination__button"),t.setAttribute("data-page",e),t}((e,t)=>{t.innerHTML="";for(let e=2;e<=6;e++){let n=s(e-1);1==e-1&&n.classList.add("active"),t.appendChild(n)}(function(){let e=document.createElement("button");e.innerText="►",e.classList.add("next-btn"),e.disabled=!1,e.addEventListener("click",()=>{d+=5,u()});let t=document.getElementById("numberButtonsContainer");t.parentNode.insertBefore(e,t.nextSibling)})(),function(){let e=document.createElement("button");e.innerText="◄",e.classList.add("prev-btn"),e.disabled=!1,e.addEventListener("click",()=>{(d-=5)<1&&(d=1),u()});let t=document.getElementById("numberButtonsContainer");t.parentNode.insertBefore(e,t)}(),1!==e&&t.appendChild(s(e))})(1,c);let d=1;function u(){let e=d,t=e+5-1,n=document.querySelectorAll(".number-buttons .pagination__button");n.forEach(e=>{c.removeChild(e)});for(let n=e;n<=t;n++){let e=s(n);c.appendChild(e),e.addEventListener("click",()=>{let t=e.getAttribute("data-page");f(t)})}}u();const f=async(e,t=!1,n="")=>{try{let r;let i=await (0,o.fetchGenreList)();r=t?await (0,l.fetchMovies)(n,e):await (0,l.fetchPopularMovies)(e),(0,a.handleResponse)(r,t,i)}catch(e){console.error("Error",e)}},h=document.querySelectorAll(".pagination__button");h.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.page,n="true"===e.dataset.search;f(t,n,"")})});var p=r("bTcpz"),l=r("c8DrE"),a=r("3huUq"),o=r("c6Rwr"),p=r("bTcpz");const m=document.querySelector("#form__search"),b=document.querySelector("#searchError");let y=1,E="",g=[];m.addEventListener("submit",async e=>{e.preventDefault();let t=m.querySelector('[name="searchQuery"]').value;if(""===t){b.textContent="Please write something";return}b.textContent="",E!==t&&(E=t,y=1,v());try{let e=await (0,l.fetchMovies)(E,y);g=await (0,o.fetchGenreList)(),(0,a.handleResponse)(e,!1,g),(0,p.initializeModal)(),1!==y||e.results.length||(b.textContent="Search result not successful. Enter the correct movie name."),m.reset()}catch(e){console.error(e),b.textContent="Error occurred. Please try again later."}});const v=()=>{let e=document.querySelector(".gallery");e&&(e.innerHTML="")},w=()=>{(0,a.getGalleryElement)()},L=async()=>{try{f(1);let e=await (0,o.fetchGenreList)(),t=await (0,l.fetchPopularMovies)(1);(0,a.handleResponse)(t,!0,e),(0,p.initializeModal)(),(0,i.showLoader)(),(0,i.hideLoader)()}catch(e){console.error("Error",e)}w()};L();
//# sourceMappingURL=index.7aa78696.js.map
